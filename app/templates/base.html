<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}HuggingFace Space 部署器{% endblock %}</title>
    
    <!-- Tailwind CSS + DaisyUI -->
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.6.0/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom CSS -->
    <link href="{{ url_for('static', path='/style.css') }}" rel="stylesheet" type="text/css" />
    
    <!-- HTMX -->
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    
    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <style>
        .loading-spinner {
            animation: spin 2s linear infinite;
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="min-h-screen bg-base-100">
    <!-- Navigation -->
    <div class="navbar bg-primary text-primary-content shadow-lg">
        <div class="container mx-auto">
            <div class="flex-1">
                <a href="/" class="btn btn-ghost text-xl font-bold">
                    <i data-lucide="rocket" class="w-6 h-6 mr-2"></i>
                    HF Space 部署器
                </a>
            </div>
            <div class="flex-none">
                <div class="dropdown dropdown-end">
                    <label tabindex="0" class="btn btn-ghost">
                        <i data-lucide="sun" class="w-5 h-5"></i>
                    </label>
                    <ul tabindex="0" class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52">
                        <li><a onclick="setTheme('light')">🌞 亮色模式</a></li>
                        <li><a onclick="setTheme('dark')">🌙 暗色模式</a></li>
                        <li><a onclick="setTheme('synthwave')">🌈 炫彩模式</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8 max-w-4xl">
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="footer footer-center p-10 bg-base-200 text-base-content rounded mt-16">
        <div class="grid grid-flow-col gap-4">
            <a href="https://huggingface.co" class="link link-hover">HuggingFace</a>
            <a href="https://fastapi.tiangolo.com" class="link link-hover">FastAPI</a>
            <a href="https://htmx.org" class="link link-hover">HTMX</a>
        </div>
        <div>
            <p class="font-bold">HuggingFace Space 一键部署工具</p>
            <p>轻松将您的代码部署到 HuggingFace Spaces</p>
        </div>
    </footer>

    <script>
        // Theme switcher
        function setTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
            
            // Update theme icon
            const themeIcon = document.querySelector('.dropdown label i');
            if (theme === 'dark') {
                themeIcon.setAttribute('data-lucide', 'moon');
            } else if (theme === 'synthwave') {
                themeIcon.setAttribute('data-lucide', 'palette');
            } else {
                themeIcon.setAttribute('data-lucide', 'sun');
            }
            lucide.createIcons();
        }
        
        // Load saved theme
        const savedTheme = localStorage.getItem('theme') || 'light';
        setTheme(savedTheme);
        
        // Initialize Lucide icons
        lucide.createIcons();
        
        // HTMX event listeners
        document.body.addEventListener('htmx:afterRequest', function(evt) {
            // Reinitialize icons after HTMX requests
            lucide.createIcons();
        });
        
        // Copy to clipboard function
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(function() {
                // Show success feedback
                const event = new CustomEvent('show-toast', {
                    detail: { message: '已复制到剪贴板！', type: 'success' }
                });
                document.dispatchEvent(event);
            });
        }
        
        // Toast notification system
        document.addEventListener('show-toast', function(event) {
            const { message, type } = event.detail;
            const toast = document.createElement('div');
            toast.className = `alert alert-${type} fixed top-4 right-4 w-auto z-50 shadow-lg`;
            toast.innerHTML = `
                <i data-lucide="check-circle" class="w-5 h-5"></i>
                <span>${message}</span>
            `;
            document.body.appendChild(toast);
            
            // Remove toast after 3 seconds
            setTimeout(() => {
                toast.remove();
            }, 3000);
            
            // Reinitialize icons
            lucide.createIcons();
        });
    </script>
</body>
</html> 